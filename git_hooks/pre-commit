#!/bin/bash

# to use the pre-commit in the source git_hooks directory
# in the Spectrochempy/.git/hooks  directory
# ln -s ../../git_hooks/pre-commit pre-commit
# or run pip install -e . to install it automatically

# run test for python 3.6
#-------------------------


# to make it work with SourceTree (assuming anaconda is used)
# probably need to change this to account for windows developper..
#TODO: activate in windows?

source ~/.bash_profile

# to make it work with matplotlib/latex
export PATH=$PATH:/Library/TeX/texbin/

# test everything and do not commit if erros
py.test -x tests || exit 1

# install to check setup
pip uninstall -y spectrochempy
pip install -e . || exit 1

# make docs and do not commit if doc fails to build
python docs/builddocs.py clean pdf html release || exit 1

# add files modified
git add -A

# test also python35
#--------------------



